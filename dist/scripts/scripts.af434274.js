"use strict";var app=angular.module("primaApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","LocalStorageModule"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/booking",{templateUrl:"views/booking.html",controller:"BookingCtrl"}).when("/bookingsuccess",{templateUrl:"views/bookingsuccess.html",controller:"BookingCtrl"}).otherwise({redirectTo:"/"})}]),app.factory("Primashared",function(){var a={firstName:"",seats:""};return{getFirstName:function(){return a.firstName},setFirstName:function(b){a.firstName=b,console.log(a.firstName)},getReqSeats:function(){return a.seats},setReqSeats:function(b){a.seats=b}}}),angular.module("primaApp").controller("MainCtrl",["$scope","$location","Primashared",function(a,b,c){console.log("sd"),a.ProceedSelection=function(){c.setFirstName(a.name),c.setReqSeats(a.seats),b.path("/booking")}}]),angular.module("primaApp").controller("BookingCtrl",["$scope","Primashared","localStorageService","$location",function(a,b,c,d){a.rows=["A","B","C","D","E","F","G","H","I","J"],a.cols=[1,2,3,4,5,6,7,8],a.bookingHistory=[],a.storagebookingHistory=c.get("bookingHistory"),null===c.get("bookingHistory")&&(a.storagebookingHistory=[]),a.name=b.getFirstName(),a.reqSeats=b.getReqSeats();var e=[];e=c.get("seats"),null===c.get("seats")&&(e=[]);var f=[];a.seatSelected=0,a.seatNumber="No Seats Slected",a.seatClicked=function(b){console.log("Selected Seat: "+b);var c=f.indexOf(b);-1!=c?f.splice(c,1):f.push(b),f.length>0?a.seatNumber=f:a.seatNumber="No Seats Slected",a.seatSelected=f.length},a.getStatus=function(a){return e.indexOf(a)>-1?"reserved":f.indexOf(a)>-1?"selected":void 0},a.clearSelected=function(){f=[],a.seatNumber="No Seats Slected",a.seatSelected=0},a.showSelected=function(){if(f.length==a.reqSeats){var b=e.concat(f);c.set("seats",b),a.bookingHistory.push({name:a.name,seats:a.reqSeats,seatnos:f});var g=a.storagebookingHistory.concat(a.bookingHistory);c.set("bookingHistory",g),console.log(a.bookingHistory),d.path("/bookingsuccess")}else alert(" Required Seats does not match the total number of seats selected number")}}]);